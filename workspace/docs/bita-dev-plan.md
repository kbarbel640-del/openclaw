# 幣塔員工培育系統 — 開發計劃（最終版）

**日期**：2026-02-01
**依據**：bita-prd.md + 4 天實際數據分析（1/28-1/31）

---

## 📍 現狀盤點

### 已有的（不用重建）
- ✅ bita skill：標記制校準（80/20/NB），prompt 完整
- ✅ 7 個 1:1 群組，已有 groupId 對照
- ✅ employees.json 基礎檔案
- ✅ 4 天 daily analysis 數據（截圖數、完成數、金額、NB 活躍）
- ✅ 日報腳本（text_mining.py）

### 缺的（MVP 必須補）
- ❌ 校準報告沒有結構化存儲（只有文字輸出，沒存 DB/JSON）
- ❌ Funnel 追蹤全是零（tracking 框架在但沒接上真實數據）
- ❌ 沒有「準確率」概念（只有量，沒有質）
- ❌ 沒有 Growth Profile
- ❌ 螺旋教練 agent 不存在

---

## 👥 初始 Phase 建檔（基於數據）

| 員工 | Phase | 初始技能評估 | 重點發展方向 |
|------|-------|-------------|-------------|
| 兔兔 | 2（穩定） | 校準量穩定、高產，NB=0 | 啟動社交漏斗意識 |
| 小峻 | 2（穩定） | 多角色意識（80+20+NB），出勤低 | 出勤穩定性、NB 持續性 |
| QQ | 1（紮根） | 大單能力強但波動大，完成率低 | 基本功穩定、每日產出一致性 |
| Z | 3（拓展） | 完成率+金額雙冠，穩定 | 跨角色訓練、帶新人潛力 |
| 茂 | 1（紮根） | 上班但完成率=0，需釐清原因 | 先確認卡點，再定訓練方向 |
| 小周 | 2（穩定） | 上班時數據好，排班少 | 增加樣本量再調整 |
| 葦葦 | 1（紮根） | 數據太少 | 先穩定出勤和基本產出 |

---

## 🔨 開發計劃（4 週 MVP）

### Week 1：數據基建（讓「質」可追蹤）

**Day 1-2：校準報告結構化**
- 改造 bita skill 的校準輸出邏輯
- 每次校準完成 → 同時存一份結構化 JSON 到 `data/calibrations/`
- Schema：
  ```json
  {
    "id": "cal-20260203-001",
    "employee_id": "BT-001",
    "timestamp": "ISO8601",
    "role": "80",
    "score": 0.85,
    "tags": ["tone_ok", "flow_complete", "missing_confirm"],
    "feedback": "確認步驟漏掉了，其餘完整",
    "raw_report": "原始校準報告文字"
  }
  ```
- **重點**：score 由 AI 自評（0-1），tags 自動標記弱項

**Day 3-4：Growth Profile 建檔**
- 建立 `data/growth-profiles/BT-001.json` ~ `BT-007.json`
- 用上面的初始 Phase + 技能評估填入
- 寫更新腳本：每次新校準事件 → 自動更新 profile 的技能分數

**Day 5：Funnel 修復**
- 接上真實 NB 數據（目前 nb_msg_count 有值但 funnel L0-L5 全零）
- 至少先追蹤 L0（觸及數 = nb_msg_count）

---

### Week 2：螺旋教練上線（核心閉環）

**Day 1-2：螺旋教練 System Prompt**
- 不直接對話員工，是幕後角色
- 輸入：校準事件 + Growth Profile
- 輸出：1 句針對性回饋（不是分數，是具體建議）
- 語氣：溫暖精準，像好主管而非系統通知
- 範例：
  - ✅「兔兔，今天銀行轉帳流程全對 👍 下次試試主動問客戶『還需要其他服務嗎』」
  - ❌「校準分數 0.85，請注意確認步驟」

**Day 3-4：事件觸發串接**
- 校準完成 → 寫入 calibration JSON → 觸發螺旋教練
- 螺旋教練讀 Growth Profile + 最近 3 次校準 → 生成回饋
- 回饋透過無極 bot 發到員工 1:1 群組
- 頻率控制：每日最多 2 則主動推送

**Day 5：端到端測試**
- 模擬：員工發截圖 → 校準 → 存結構化 → 觸發教練 → 推送回饋
- 用兔兔群組做第一個真實測試

---

### Week 3：儀表板 + 趨勢追蹤

**Day 1-2：/dashboard 指令**
- 杜甫發 `/dashboard` → 輸出 7 人現狀
- 格式：
  ```
  📊 幣塔團隊儀表板
  
  🔥 Z [Phase 3] ↑ 完成率92% | 本週11單
  🟢 兔兔 [Phase 2] → 完成率穩定 | NB=0 ⚠️
  🟢 小峻 [Phase 2] → 出勤1/4天 ⚠️
  🟢 小周 [Phase 2] → 數據中等
  🟡 QQ [Phase 1] ↕ 波動大 | 大單能力強
  🟡 葦葦 [Phase 1] ? 樣本不足
  🔴 茂 [Phase 1] ↓ 完成率=0 ❗
  
  📌 建議關注：茂（連續2天零完成）、兔兔（NB漏斗）
  ```

**Day 3-4：趨勢追蹤**
- 每日自動計算 7 天滾動平均
- 偵測：連續 3 次同類錯誤 → 標記到 profile
- 偵測：平台期超過 7 天 → 標記待刺激

**Day 5：連續錯誤告警**
- 螺旋教練發現同類錯誤 ≥3 次 → 推送專項提醒
- 同時通知杜甫：「QQ 連續 3 次漏掉確認步驟，建議關注」

---

### Week 4：調校 + 驗證

**Day 1-2：跑真實數據一週**
- 觀察校準→回饋→記錄的完整閉環
- 收集員工對回饋的反應（有沒有已讀、有沒有回覆）

**Day 3-4：語氣調校**
- 根據員工反應調整螺旋教練的語氣
- Phase 1 員工：更多鼓勵、更少批評
- Phase 2-3 員工：更具體的進階建議

**Day 5：MVP 覆盤**
- 驗證指標：
  - 回饋已讀率 > 70%
  - 員工主動回覆率 > 20%
  - 校準報告結構化覆蓋率 > 90%
- 決定 V1 優先級

---

## 🚫 MVP 明確不做

| 功能 | 原因 | 排到 |
|------|------|------|
| 角色訓練場（情境模擬） | 先驗證回饋閉環有用再說 | V1 |
| 里程碑徽章系統 | 錦上添花，不是核心 | V1 |
| Phase 自動升降 | 數據不夠，先手動 | V1 |
| 團隊對比分析 | 需要更多數據積累 | V2 |
| 老帶新機制 | 等有人到 Phase 4 再說 | V2 |

---

## ⚙️ 技術改造清單

| 改什麼 | 怎麼改 | 影響 |
|--------|--------|------|
| bita skill 校準輸出 | 加結構化 JSON 存儲 | 改 SKILL.md 處理邏輯 |
| 新增 growth-profiles/ | 7 個 JSON 檔 | 新建目錄+檔案 |
| 新增 calibrations/ | 每次校準存一筆 | 新建目錄 |
| 螺旋教練 prompt | 新建 `prompts/spiral_coach.md` | 新檔案 |
| /dashboard 指令 | 讀 profiles + 近期 calibrations 彙整 | 在主 session 處理 |
| 推送頻率控制 | profile 裡的 coaching.daily_push_count | 讀寫 profile |

---

## 📅 節奏控制

- 每天只推一個功能點（不過度交付）
- 每週五跟杜甫同步進度
- Week 2 結束就要有第一個真實推送到員工

---

*這是活文件，隨 MVP 進展持續更新。*
