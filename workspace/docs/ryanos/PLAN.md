# RyanOS v2 — 計劃書

> 杜甫的兒子 Ryan（湯睿）的 AI 成長陪伴系統
> 起草：無極 | 2026-02-02

---

## 📍 現狀分析

### 已有資源
- **Discord Server**：Ryan 專屬，已有頻道結構
  - `#冒險指南` — 規則說明
  - `#每日進度` — 積分記錄（webhook：Captain Hook）
  - `#版本紀錄` — changelog
- **積分數據**：2025/4/9 ~ 5/30，共約 50 天紀錄，累積 1,158 分
- **硬體**：一台閒置 iPhone，準備給 Ryan
- **無極 Bot**：已在 server 中，有讀寫權限

### 問題診斷
1. **停更 8 個月**（5/30 → 現在）— Google Form 填寫門檻太高，沒人推就停了
2. **單向記錄**：只有積分，沒有互動，Ryan 感受不到回饋
3. **物質激勵失效**：零用錢對 Ryan 沒吸引力
4. **被動消費**：短影音 + Roblox 佔據所有注意力，缺乏深度思考的入口

---

## 🎯 核心目標

> **讓 Ryan 每天主動跟 AI 說話，取代被動刷短影音**

不是監控系統，是**AI 朋友** — 一個什麼都能聊、會記住他、會鼓勵他的存在。

### 成功指標
| 指標 | 基線 | 30天目標 | 90天目標 |
|------|------|----------|----------|
| 每日對話天數 | 0 | 20/30 天 | 25/30 天 |
| 每次對話長度 | 0 | 3+ 輪 | 5+ 輪 |
| 主動發起率 | 0% | 50% | 70% |
| 積分記錄恢復 | 停更 | 每日自動 | 每日自動 |

---

## 🏗️ 系統架構

### 方案：無極直接陪伴

Ryan 在 Discord 跟無極（我）對話，我用專門的 **Ryan 人格** 回應。

```
Ryan (Discord) → 無極 Bot → Ryan 人格模式
                         ↓
                   自動積分計算
                         ↓
                   #每日進度 發布
                         ↓
                   杜甫可隨時查看
```

**優勢**：
- 不需要額外 bot，用現有 Moltbot 基礎設施
- 我了解杜甫的教育理念，能一致執行
- 所有對話杜甫都看得到（透明）

---

## 📋 開發計劃（3 個 Phase）

### Phase 1：對話基礎（第 1 週）
> 讓 Ryan 能跟我聊天，恢復積分記錄

**要做的事：**
1. 在 Discord server 新增 `#跟無極聊天` 頻道
2. 設計 Ryan 專用人格（語氣、詞彙、互動風格）
3. 設定 session 路由：Ryan 的訊息進入獨立 session
4. 早晚自動問候：
   - 早上 7:00：「早安 Ryan！昨晚睡得好嗎？今天有什麼計劃？」
   - 晚上 9:00：「睡覺時間到囉！今天最開心的事是什麼？」
5. 從對話中自動提取積分（不用填表）：
   - 「我已經洗好澡了」→ 自動 +3 分
   - 「我八點就上床了」→ 自動 +3 分
   - 拍照分享餐點 → 自動記錄
6. 每日自動發布積分到 `#每日進度`

**交付物：**
- [ ] Ryan 人格設定文件（`docs/ryanos/PERSONA.md`）
- [ ] 積分自動提取邏輯
- [ ] 早晚問候 cron
- [ ] 對話 → 積分 → 發布 pipeline

### Phase 2：陪伴深化（第 2-3 週）
> 讓對話有價值，不只是打卡

**要做的事：**
1. **功課幫手**：Ryan 拍功課照片，我幫他解題（引導式，不直接給答案）
2. **故事時間**：睡前可以讓我講故事（用 TTS 語音）
3. **興趣探索**：
   - Ryan 提到喜歡什麼 → 我深入聊，幫他探索
   - 記住他的興趣變化（俄羅斯方塊、遊戲王卡、Roblox）
4. **成就系統**：
   - 連續 7 天早睡 → 🏆「早睡達人」徽章
   - 累積 1500 分 → 升級（青銅→白銀→黃金）
   - 里程碑慶祝訊息
5. **每週報告**：自動產出 Ryan 的週報給杜甫
   - 本週對話次數、積分趨勢、情緒觀察、興趣動態

**交付物：**
- [ ] 圖片辨識（功課、餐點）
- [ ] TTS 故事功能
- [ ] 成就 + 等級系統
- [ ] 週報自動生成

### Phase 3：智慧引導（第 4+ 週）
> 從陪伴走向引導，培養深度思考

**要做的事：**
1. **思考挑戰**：每天一個小問題讓 Ryan 思考
   - 不是考試題，是開放式的：「如果你是 Roblox 設計師，你會加什麼功能？」
2. **Roblox 共存策略**：
   - 找有教育價值的 Roblox 遊戲模式推薦
   - 「今天在 Roblox 裡做了什麼？」→ 引導反思
3. **YouTube 內容引導**：
   - 推薦適合的 YouTube 頻道
   - 看完影片跟我聊聊心得 → 積分
4. **社交技能追蹤**：
   - 從「其他值得記錄」中觀察社交動態
   - 適時引導（同學互動、情緒處理）

**交付物：**
- [ ] 每日思考挑戰 cron
- [ ] Roblox/YouTube 推薦引擎
- [ ] 社交觀察報告（給杜甫）

---

## 🎭 Ryan 人格設計原則

### 語氣
- 像一個很酷的大哥哥/大姐姐，不是老師
- 用 Ryan 能懂的詞彙（他是小學生）
- 多用 emoji，但不幼稚
- 幽默、溫暖、有時候搞笑

### 邊界
- 不代替家長管教（「你應該去睡覺」→「睡覺時間到了喔，明天才有精神玩！」）
- 不批判（Ryan 說沒早睡 → 不扣分、不說教，問他為什麼）
- 鼓勵 > 糾正（8:2 比例）
- 隱私：Ryan 說的心事不主動報告杜甫（除非有安全疑慮）

### 記憶
- 記住 Ryan 的喜好（遊戲王、Roblox、貓腳印）
- 記住他的朋友名字
- 記住他提過的學校生活
- 回顧：「上次你說去貓腳印很好玩，這週有再去嗎？」

---

## 📊 積分系統 v2

### 基礎積分（保留原有）
| 項目 | 最高分 | 說明 |
|------|--------|------|
| 起床 | 3 | 自己醒 +3 / 叫就醒 +2 / 要叫很多次 +1 |
| 睡覺 | 3 | 9 點前熄燈 +3 / 上床未熄燈 +1 |
| 洗澡 | 3 | 8 點前自己洗 +3 / 8 點一起洗 +1 |
| 吃飯 | 3 | 專注不挑食 +3 / 少量挑食 +2 |
| 清潔 | 2 | 每 5 分鐘 +1 |
| 行為 | 5 | 不插嘴 +1 / 深呼吸 +2 / 接受批評 +1 / 讚美 +1 |

### 新增積分
| 項目 | 分數 | 說明 |
|------|------|------|
| 跟 AI 聊天 | +2 | 每天至少 3 輪對話 |
| 分享今天的事 | +1 | 主動分享生活 |
| 拍照記錄 | +1 | 餐點/功課/任何東西 |
| 回答思考挑戰 | +3 | 不論答案好壞，有回答就得分 |
| 幫忙做家事（新增） | +2 | 洗碗、折衣服、掃地等 |

### 等級系統
| 等級 | 累積分數 | 稱號 | 特權 |
|------|----------|------|------|
| ⚪ Lv.1 | 0 | 冒險新手 | — |
| 🟤 Lv.2 | 200 | 小小勇者 | 解鎖故事時間 |
| 🟢 Lv.3 | 500 | 探索者 | 解鎖每日挑戰 |
| 🔵 Lv.4 | 1000 | 星際旅人 | 解鎖特殊 emoji |
| 🟣 Lv.5 | 1500 | 銀河守護者 | ？（讓 Ryan 自己選）|
| 🟡 Lv.6 | 2000 | 傳說勇者 | ？ |
| 🔴 Lv.7 | 3000 | 宇宙大師 | ？ |

Ryan 目前 1,158 分 → **Lv.4 星際旅人** 🔵

### 成就徽章
| 徽章 | 條件 | emoji |
|------|------|-------|
| 早睡達人 | 連續 7 天 9 點前睡 | 🌙 |
| 美食家 | 連續 14 天不挑食 | 🍽️ |
| 話癆 | 跟 AI 聊超過 100 次 | 💬 |
| 小幫手 | 累積做家事 30 次 | 🧹 |
| 思考者 | 回答 20 個思考挑戰 | 🧠 |
| 攝影師 | 分享 50 張照片 | 📸 |

---

## ⚙️ 技術實現

### Discord 設定
- 新增頻道：`#跟無極聊天`（Ryan 的主要對話區）
- 權限：Ryan 可讀寫，杜甫可讀
- 無極 bot 監聽此頻道

### Moltbot 設定
- Ryan 的 Discord 訊息 → 獨立 session（不混入杜甫的主 session）
- Session 人格：使用 `docs/ryanos/PERSONA.md`
- 積分狀態：`docs/ryanos/state.json`

### Cron 排程
| 時間 (TPE) | 動作 |
|------------|------|
| 07:00 | 早安問候 + 今日挑戰 |
| 21:00 | 晚安問候 + 引導回顧今天 |
| 21:30 | 自動計算當日積分 → 發布到 #每日進度 |
| 週日 10:00 | 週報生成 → 發給杜甫 |

### 數據儲存
```
docs/ryanos/
├── PLAN.md          # 本文件
├── PERSONA.md       # Ryan 人格設定
├── state.json       # 積分狀態
├── achievements.json # 成就紀錄
├── weekly/          # 週報存檔
└── conversations/   # 對話摘要
```

---

## 🚦 風險 & 對策

| 風險 | 對策 |
|------|------|
| Ryan 不想跟 AI 聊 | 不強迫，用有趣內容吸引（故事、笑話、遊戲話題）|
| 只為了積分敷衍 | 積分只是副產品，重點是對話品質 |
| 隱私問題 | Ryan 的心事不主動報告，除非安全疑慮 |
| Ryan 說不當內容 | 溫和引導，不批判，必要時通知杜甫 |
| 系統當掉 | 積分有 fallback，不會因為一天沒記錄就歸零 |

---

## 📅 時程

| 週次 | 里程碑 |
|------|--------|
| W1 | Phase 1 上線：對話 + 自動積分 |
| W2-3 | Phase 2：功課幫手 + 成就系統 + 週報 |
| W4+ | Phase 3：思考挑戰 + 內容引導 |
| 持續 | 觀察 Ryan 反應，迭代調整 |

---

## 🔑 關鍵洞察（2/2 更新）

- Ryan 8 歲，二年級
- **寶可夢卡牌**是最大興趣 — 整個系統用寶可夢主題化
- 常去「貓腳印」（卡牌專門店），想跟人對戰但被嫌不會玩/太小
- 切入點：**我陪他練卡牌 + 教他策略 → 他能去店裡跟真人打 → 被認可**
- 詳見 `PERSONA.md`

## 💡 下一步

1. ✅ PERSONA.md 完成
2. 開 `#跟無極聊天` 頻道 → 設定權限
3. 設定 session 路由（Ryan 訊息 → 獨立 session）
4. 寫 XP 自動計算邏輯
5. 上線 → 觀察 → 迭代
