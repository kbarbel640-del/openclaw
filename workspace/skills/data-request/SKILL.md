# Data Request Skill

è™•ç† BG666 æ•¸æ“šéœ€æ±‚çš„å®Œæ•´æµç¨‹ã€‚

## æ ¸å¿ƒåŸå‰‡

> **ã€Œæ”¶åˆ°äººåå°±å»æŸ¥ï¼Œä¸è¦å•ã€è¦ä»€éº¼ã€ã€**

é€™æ˜¯éºµåŒ…å±‘æŸ¥è©¢ â€” ä¸»å‹•è¿½è¹¤ä¸Šä¸‹æ–‡ï¼Œä¸æŠŠå·¥ä½œä¸Ÿå›å»ã€‚

## æµç¨‹

```
æ”¶åˆ°äººå
    â†“
æŸ¥ CONTACTS.mdï¼ˆæ‹¿ Telegram IDï¼‰
    â†“
è®€å°è©±ï¼ˆtelegram-userbotï¼‰
    â†“
ä¸‹è¼‰åª’é«”ï¼ˆExcel/åœ–ç‰‡ï¼‰
    â†“
è§£æéœ€æ±‚
    â†“
è·‘ SQLï¼ˆbg666-db skillï¼‰
    â†“
æ•´ç†è¼¸å‡ºï¼ˆExcel/CSVï¼‰
    â†“
äº¤ä»˜ + å£å¾‘èªªæ˜
    â†“
æ›´æ–° CONTACTS.md ç‹€æ…‹
```

## æ­¥é©Ÿè©³è§£

### 1. æŸ¥ CONTACTS.md

```markdown
# åœ¨ CONTACTS.md æ‰¾åˆ°é€™å€‹äºº
Pilipina (Red) | 5665640546 | UI/å“ç‰Œ/å¸‚å ´ | ğŸ”„ æ•¸æ“šéœ€æ±‚é€²è¡Œä¸­
```

### 2. è®€å°è©±

```bash
cd ~/clawd/skills/telegram-userbot
source venv/bin/activate
python scripts/read_chat.py <chat_id> --limit 30
```

### 3. ä¸‹è¼‰åª’é«”

å¦‚æœå°è©±ä¸­æœ‰ Excel/åœ–ç‰‡ï¼Œç”¨ Telethon ä¸‹è¼‰ï¼š

```python
# åœ¨ read_chat.py åŸºç¤ä¸Š
for msg in messages:
    if msg.media:
        path = await client.download_media(msg)
        print(f"ä¸‹è¼‰: {path}")
```

### 4. è§£æéœ€æ±‚

çœ‹ Excel æ¨¡æ¿æˆ–å°è©±ï¼Œåˆ—å‡ºå…·é«”éœ€æ±‚ï¼š
- å“ªäº›æ¬„ä½ï¼Ÿ
- ä»€éº¼æ™‚é–“ç¯„åœï¼Ÿ
- ä»€éº¼ç¯©é¸æ¢ä»¶ï¼Ÿ

### 5. è·‘ SQL

ç”¨ bg666-db skill é€£æ¥è³‡æ–™åº«ï¼š

```bash
# åƒè€ƒ skills/bg666-db/SKILL.md
```

å¸¸ç”¨è¡¨ï¼š
- `player_recharge_order` â€” å……å€¼è¨‚å–®
- `player_withdraw_order` â€” ææ¬¾è¨‚å–®
- `sys_player` â€” ç©å®¶åŸºæœ¬è³‡æ–™
- `sys_player_experience` â€” VIP ç­‰ç´š

### 6. æ•´ç†è¼¸å‡º

```python
import pandas as pd

df = pd.read_sql(sql, conn)
df.to_excel('/tmp/output.xlsx', index=False)
```

### 7. äº¤ä»˜

ç”¨ telegram-userbot ç™¼é€ï¼š

```bash
python scripts/send_message.py <chat_id> "æ•¸æ“šå¥½äº†ï¼Œè«‹æŸ¥æ”¶"
# é™„ä»¶éœ€è¦å¦å¤–è™•ç†
```

### 8. æ›´æ–° CONTACTS.md

```markdown
Pilipina (Red) | 5665640546 | UI/å“ç‰Œ/å¸‚å ´ | âœ… 1/27 æ•¸æ“šå·²äº¤ä»˜
```

## å£å¾‘èªªæ˜

äº¤ä»˜æ™‚è¦èªªæ˜ï¼š
- 0/1/NULL ä»£è¡¨ä»€éº¼
- æ™‚é–“ç¯„åœ
- ç¯©é¸æ¢ä»¶
- ç‰¹æ®Šæ¬„ä½å®šç¾©

**å£å¾‘å•é¡Œ â‰  æ•¸æ“šéŒ¯èª¤**ï¼Œè©²è§£é‡‹å°±è§£é‡‹ï¼Œä¸è¦æ€¥è‘—ã€Œä¿®æ­£ã€ã€‚

## ç¯„ä¾‹ï¼šPilipina æ•¸æ“šéœ€æ±‚ (1/27)

**éœ€æ±‚**ï¼š
1. VIP ç­‰ç´šäººæ•¸
2. æœƒå“¡ç¸½æŠ•æ³¨æ¸…å–®
3. 1/20-25 æ¯æ—¥å­˜æ¬¾åˆ†ä½ˆ
4. 1/20-25 å­˜æ¬¾Ã—VIP åˆ†çµ„
5. 12/26-31 æœƒå“¡æ¯æ—¥å­˜æ¬¾æ˜ç´°

**è¼¸å‡º**ï¼š`/tmp/pilipina_data_output.xlsx`

**äº¤ä»˜å°è©±**ï¼š
> Hi Pilipinaï¼Œæ•¸æ“šå¥½äº†ï¼š
> 1. VIP ç­‰ç´šäººæ•¸ï¼ˆVIP0-5ï¼‰
> 2. ...
> 
> æœ‰ä»»ä½•å•é¡Œéš¨æ™‚èªª ğŸ‘

## å¸¸è¦‹è¯çµ¡äºº

| äºº | Telegram ID | å¸¸è¦‹éœ€æ±‚ |
|----|-------------|----------|
| Pilipina | 5665640546 | VIP åˆ†æã€å­˜æ¬¾åˆ†ä½ˆ |
| Albert | 5308534717 | é¦–å……åˆ†æã€IP é‡è¤‡ |
| Brandon | 5038335338 | å°æ™‚å ±ã€æ®ºç‡è¨ˆç®— |

## ä½¿ç”¨

```
ã€Œå¹« Pilipina å‡ºæ•¸æ“šã€
ã€ŒAlbert è¦çš„æ•¸æ“šå¥½äº†å—ã€
ã€Œè™•ç† XXX çš„æ•¸æ“šéœ€æ±‚ã€
```

## æ³¨æ„äº‹é …

1. **å…ˆçœ‹æ•¸æ“šå†èªªè©±** â€” ä¸è¦çŒœ
2. **å…ˆé©—è­‰å£å¾‘** â€” å†æ±ºå®šè¦ä¸è¦æ”¹
3. **ä¸‹è¼‰åª’é«”** â€” åˆ¥èªªã€Œæˆ‘çœ‹ä¸åˆ°ã€
4. **è¨˜éŒ„åœ¨ CONTACTS.md** â€” è¿½è¹¤ç‹€æ…‹
