{
  "complexity": "complex",
  "workflow_type": "feature",
  "confidence": 0.85,
  "reasoning": "Major UI overhaul affecting two native platforms (macOS and iOS) with hundreds of Swift files. Requires implementing Apple's 'liquid glass of Tahoe' design system, creating comprehensive design documentation, and maintaining backward compatibility across versions. This is a cross-cutting architectural change affecting all UI components.",

  "analysis": {
    "scope": {
      "estimated_files": 150,
      "estimated_services": 2,
      "is_cross_cutting": true,
      "notes": "macOS app has 100+ Swift source files, iOS app has 60+ Swift files. Design system changes will touch all UI components: screens, layouts, panels, buttons, and other UI elements across both platforms."
    },
    "integrations": {
      "external_services": [],
      "new_dependencies": [],
      "research_needed": true,
      "notes": "Need to research Apple's 'liquid glass of Tahoe' design system (macOS/iOS 26.x glassmorphism). This is Apple's new design language requiring research into SwiftUI/AppKit visual effects, materials, and blur treatments."
    },
    "infrastructure": {
      "docker_changes": false,
      "database_changes": false,
      "config_changes": true,
      "notes": "May need version compatibility configuration to support 26.x features while maintaining backward compatibility with earlier versions. No Docker or database changes required."
    },
    "knowledge": {
      "patterns_exist": true,
      "research_required": true,
      "unfamiliar_tech": ["liquid glass of Tahoe design system", "SwiftUI Materials", "NSVisualEffectView glassmorphism"],
      "notes": "macOS app already has some VisualEffectView patterns. Need to research and implement comprehensive glassmorphism design system. Design guide creation is a new deliverable requiring documentation patterns."
    },
    "risk": {
      "level": "high",
      "concerns": [
        "Breaking existing UI across both platforms",
        "Version compatibility complexity (26.x vs earlier versions)",
        "Design consistency across macOS and iOS",
        "Performance impact of visual effects"
      ],
      "notes": "High risk due to extensive UI changes. Backward compatibility requirement adds complexity. Need careful testing to ensure existing functionality isn't broken."
    }
  },

  "recommended_phases": [
    "discovery",
    "requirements",
    "research",
    "context",
    "spec_writing",
    "self_critique",
    "planning",
    "validation"
  ],

  "flags": {
    "needs_research": true,
    "needs_self_critique": true,
    "needs_infrastructure_setup": false
  },

  "validation_recommendations": {
    "risk_level": "high",
    "skip_validation": false,
    "minimal_mode": false,
    "test_types_required": ["unit", "integration", "e2e"],
    "security_scan_required": false,
    "staging_deployment_required": true,
    "reasoning": "Major UI overhaul across two platforms requires comprehensive testing. Unit tests for component logic, integration tests for UI rendering, and E2E tests for user flows. Staging deployment needed to verify design changes work correctly on both platforms before production release."
  },

  "created_at": "2026-02-14T00:00:00.000Z"
}
