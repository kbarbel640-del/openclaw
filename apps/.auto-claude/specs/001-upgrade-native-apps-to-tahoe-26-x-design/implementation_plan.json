{
  "feature": "Upgrade native apps to Tahoe 26.x design",
  "workflow_type": "feature",
  "workflow_rationale": "This is a major feature implementation involving a complete UI redesign across two platforms (macOS and iOS). It introduces new visual design elements (glassmorphism, blur effects), creates new design documentation, and requires architectural changes to support both the new 26.x design system and backward compatibility.",
  "phases": [
    {
      "id": "phase-1-design-guide",
      "name": "Design Guide Foundation",
      "type": "implementation",
      "description": "Create the comprehensive design guide documenting all UI patterns, components, and usage guidelines for the Tahoe 26.x design system",
      "depends_on": [],
      "parallel_safe": true,
      "subtasks": [
        {
          "id": "subtask-1-1",
          "description": "Create docs directory and design guide structure",
          "service": "documentation",
          "files_to_modify": [],
          "files_to_create": [
            "docs/design-guide.md"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "ls -la docs/",
            "expected": "design-guide.md exists"
          },
          "status": "completed",
          "notes": "Created docs/design-guide.md with comprehensive design guide structure including: overview, macOS glassmorphism patterns (NSVisualEffectView), iOS blur effects (UIVisualEffectView, SwiftUI Materials), component library structure, color palette, typography, spacing system, accessibility requirements, and backward compatibility guidelines. File verified and committed.",
          "updated_at": "2026-02-14T03:30:39.194610+00:00"
        },
        {
          "id": "subtask-1-2",
          "description": "Document macOS glassmorphism patterns (NSVisualEffectView, materials, blending modes)",
          "service": "documentation",
          "files_to_modify": [
            "docs/design-guide.md"
          ],
          "files_to_create": [],
          "patterns_from": [
            "macos/Sources/OpenClaw/VisualEffectView.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'NSVisualEffectView' docs/design-guide.md",
            "expected": "Non-zero count"
          },
          "status": "completed",
          "notes": "Documented macOS glassmorphism patterns including NSVisualEffectView emphasized property, SwiftUI wrapper example, and extended material types",
          "updated_at": "2026-02-14T03:32:54.811273+00:00"
        },
        {
          "id": "subtask-1-3",
          "description": "Document iOS blur effect patterns (UIVisualEffectView, SwiftUI Materials)",
          "service": "documentation",
          "files_to_modify": [
            "docs/design-guide.md"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Status/StatusPill.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'Material\\|UIVisualEffectView' docs/design-guide.md",
            "expected": "Non-zero count"
          },
          "status": "completed",
          "notes": "Completed - Documented iOS blur effect patterns including UIVisualEffectView, SwiftUI Materials, combined glass patterns, border opacity values, shadow configurations, and iOS-specific considerations.",
          "updated_at": "2026-02-14T03:36:17.622246+00:00"
        },
        {
          "id": "subtask-1-4",
          "description": "Document backward compatibility requirements (macOS 12+, iOS 15+)",
          "service": "documentation",
          "files_to_modify": [
            "docs/design-guide.md"
          ],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "grep -c 'macOS 12\\|iOS 15' docs/design-guide.md",
            "expected": "Non-zero count"
          },
          "status": "completed",
          "notes": "Verified - backward compatibility requirements (macOS 12+, iOS 15+) are documented in the \"Target Platforms\" section of docs/design-guide.md. Verification command returns non-zero count (2).",
          "updated_at": "2026-02-14T03:38:35.712340+00:00"
        },
        {
          "id": "subtask-1-5",
          "description": "Document accessibility requirements (VoiceOver, Dynamic Type, High Contrast)",
          "service": "documentation",
          "files_to_modify": [
            "docs/design-guide.md"
          ],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "grep -c 'accessibility\\|VoiceOver\\|Dynamic Type' docs/design-guide.md",
            "expected": "Non-zero count"
          },
          "status": "completed",
          "notes": "Verified - Accessibility requirements (VoiceOver, Dynamic Type, High Contrast, Reduced Motion) are documented in the \"Accessibility\" section of docs/design-guide.md (lines 403-446). Verification command returns non-zero count (12).",
          "updated_at": "2026-02-14T03:45:00.000000+00:00"
        }
      ]
    },
    {
      "id": "phase-2-macos-base",
      "name": "macOS Glassmorphism Base Components",
      "type": "implementation",
      "description": "Create reusable glass effect components and wrappers for macOS using NSVisualEffectView",
      "depends_on": [
        "phase-1-design-guide"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-2-1",
          "description": "Audit existing VisualEffectView.swift and enhance with Tahoe materials",
          "service": "macos",
          "files_to_modify": [
            "macos/Sources/OpenClaw/VisualEffectView.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "macos/Sources/OpenClaw/VisualEffectView.swift"
          ],
          "verification": {
            "type": "command",
            "command": "swift -frontend -parse macos/Sources/OpenClaw/VisualEffectView.swift 2>&1 | head -5",
            "expected": "No errors"
          },
          "status": "pending"
        },
        {
          "id": "subtask-2-2",
          "description": "Create GlassPanel component for floating panels and windows",
          "service": "macos",
          "files_to_modify": [],
          "files_to_create": [
            "macos/Sources/OpenClaw/Components/GlassPanel.swift"
          ],
          "patterns_from": [
            "macos/Sources/OpenClaw/VisualEffectView.swift",
            "macos/Sources/OpenClaw/CanvasWindow.swift"
          ],
          "verification": {
            "type": "command",
            "command": "ls macos/Sources/OpenClaw/Components/",
            "expected": "GlassPanel.swift exists"
          },
          "status": "pending"
        },
        {
          "id": "subtask-2-3",
          "description": "Create GlassCard component for cards and content containers",
          "service": "macos",
          "files_to_modify": [],
          "files_to_create": [
            "macos/Sources/OpenClaw/Components/GlassCard.swift"
          ],
          "patterns_from": [
            "macos/Sources/OpenClaw/VisualEffectView.swift",
            "macos/Sources/OpenClaw/ContextMenuCardView.swift"
          ],
          "verification": {
            "type": "command",
            "command": "ls macos/Sources/OpenClaw/Components/",
            "expected": "GlassCard.swift exists"
          },
          "status": "pending"
        },
        {
          "id": "subtask-2-4",
          "description": "Create GlassButton component for buttons with glass effect",
          "service": "macos",
          "files_to_modify": [],
          "files_to_create": [
            "macos/Sources/OpenClaw/Components/GlassButton.swift"
          ],
          "patterns_from": [
            "macos/Sources/OpenClaw/VisualEffectView.swift"
          ],
          "verification": {
            "type": "command",
            "command": "ls macos/Sources/OpenClaw/Components/",
            "expected": "GlassButton.swift exists"
          },
          "status": "pending"
        },
        {
          "id": "subtask-2-5",
          "description": "Create GlassSheet modifier for modal presentations",
          "service": "macos",
          "files_to_modify": [],
          "files_to_create": [
            "macos/Sources/OpenClaw/Components/GlassSheet.swift"
          ],
          "patterns_from": [
            "macos/Sources/OpenClaw/VisualEffectView.swift"
          ],
          "verification": {
            "type": "command",
            "command": "ls macos/Sources/OpenClaw/Components/",
            "expected": "GlassSheet.swift exists"
          },
          "status": "pending"
        }
      ]
    },
    {
      "id": "phase-3-macos-ui",
      "name": "macOS UI Updates",
      "type": "implementation",
      "description": "Apply glassmorphism to existing macOS UI components",
      "depends_on": [
        "phase-2-macos-base"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-3-1",
          "description": "Update CanvasWindow.swift with full glassmorphism",
          "service": "macos",
          "files_to_modify": [
            "macos/Sources/OpenClaw/CanvasWindow.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "macos/Sources/OpenClaw/Components/GlassPanel.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'NSVisualEffectView\\|VisualEffectView' macos/Sources/OpenClaw/CanvasWindow.swift",
            "expected": "Increased count"
          },
          "status": "pending"
        },
        {
          "id": "subtask-3-2",
          "description": "Update SettingsRootView.swift with glass background",
          "service": "macos",
          "files_to_modify": [
            "macos/Sources/OpenClaw/SettingsRootView.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "macos/Sources/OpenClaw/Components/GlassPanel.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'VisualEffectView\\|\\.background' macos/Sources/OpenClaw/SettingsRootView.swift",
            "expected": "Non-zero count"
          },
          "status": "pending"
        },
        {
          "id": "subtask-3-3",
          "description": "Update ContextMenuCardView.swift with glass effect",
          "service": "macos",
          "files_to_modify": [
            "macos/Sources/OpenClaw/ContextMenuCardView.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "macos/Sources/OpenClaw/Components/GlassCard.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'VisualEffectView\\|material' macos/Sources/OpenClaw/ContextMenuCardView.swift",
            "expected": "Non-zero count"
          },
          "status": "pending"
        },
        {
          "id": "subtask-3-4",
          "description": "Update StatusPill.swift with enhanced glass effect",
          "service": "macos",
          "files_to_modify": [
            "macos/Sources/OpenClaw/StatusPill.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Status/StatusPill.swift",
            "macos/Sources/OpenClaw/Components/GlassCard.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'VisualEffectView\\|material\\|ultraThinMaterial' macos/Sources/OpenClaw/StatusPill.swift",
            "expected": "Non-zero count"
          },
          "status": "pending"
        },
        {
          "id": "subtask-3-5",
          "description": "Update all Settings views (*Settings*.swift) with glass panels",
          "service": "macos",
          "files_to_modify": [
            "macos/Sources/OpenClaw/GeneralSettings.swift",
            "macos/Sources/OpenClaw/ChannelsSettings.swift",
            "macos/Sources/OpenClaw/VoiceWakeSettings.swift",
            "macos/Sources/OpenClaw/ConfigSettings.swift",
            "macos/Sources/OpenClaw/InstancesSettings.swift",
            "macos/Sources/OpenClaw/SessionsSettings.swift",
            "macos/Sources/OpenClaw/CronSettings.swift",
            "macos/Sources/OpenClaw/SkillsSettings.swift",
            "macos/Sources/OpenClaw/PermissionsSettings.swift",
            "macos/Sources/OpenClaw/AboutSettings.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "macos/Sources/OpenClaw/SettingsRootView.swift",
            "macos/Sources/OpenClaw/Components/GlassPanel.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -l 'VisualEffectView\\|material' macos/Sources/OpenClaw/*Settings*.swift | wc -l",
            "expected": "At least 8 files"
          },
          "status": "pending"
        },
        {
          "id": "subtask-3-6",
          "description": "Update menu views (MenuContentView, GatewayDiscoveryMenu, NodesMenu)",
          "service": "macos",
          "files_to_modify": [
            "macos/Sources/OpenClaw/MenuContentView.swift",
            "macos/Sources/OpenClaw/GatewayDiscoveryMenu.swift",
            "macos/Sources/OpenClaw/NodesMenu.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "macos/Sources/OpenClaw/Components/GlassCard.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -l 'VisualEffectView\\|material' macos/Sources/OpenClaw/MenuContentView.swift macos/Sources/OpenClaw/GatewayDiscoveryMenu.swift macos/Sources/OpenClaw/NodesMenu.swift | wc -l",
            "expected": "At least 2 files"
          },
          "status": "pending"
        }
      ]
    },
    {
      "id": "phase-4-ios-base",
      "name": "iOS Blur Effects Base Components",
      "type": "implementation",
      "description": "Create reusable blur effect components for iOS using UIVisualEffectView and SwiftUI Materials",
      "depends_on": [
        "phase-1-design-guide"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-4-1",
          "description": "Create BlurView SwiftUI wrapper for iOS",
          "service": "ios",
          "files_to_modify": [],
          "files_to_create": [
            "ios/Sources/Components/BlurView.swift"
          ],
          "patterns_from": [
            "macos/Sources/OpenClaw/VisualEffectView.swift",
            "ios/Sources/Status/StatusPill.swift"
          ],
          "verification": {
            "type": "command",
            "command": "ls ios/Sources/Components/",
            "expected": "BlurView.swift exists"
          },
          "status": "pending"
        },
        {
          "id": "subtask-4-2",
          "description": "Create GlassContainer component for iOS",
          "service": "ios",
          "files_to_modify": [],
          "files_to_create": [
            "ios/Sources/Components/GlassContainer.swift"
          ],
          "patterns_from": [
            "ios/Sources/Status/StatusPill.swift",
            "ios/Sources/Status/VoiceWakeToast.swift"
          ],
          "verification": {
            "type": "command",
            "command": "ls ios/Sources/Components/",
            "expected": "GlassContainer.swift exists"
          },
          "status": "pending"
        },
        {
          "id": "subtask-4-3",
          "description": "Create GlassButton component for iOS",
          "service": "ios",
          "files_to_modify": [],
          "files_to_create": [
            "ios/Sources/Components/GlassButton.swift"
          ],
          "patterns_from": [
            "ios/Sources/Status/VoiceWakeToast.swift"
          ],
          "verification": {
            "type": "command",
            "command": "ls ios/Sources/Components/",
            "expected": "GlassButton.swift exists"
          },
          "status": "pending"
        },
        {
          "id": "subtask-4-4",
          "description": "Create GlassCard component for iOS",
          "service": "ios",
          "files_to_modify": [],
          "files_to_create": [
            "ios/Sources/Components/GlassCard.swift"
          ],
          "patterns_from": [
            "ios/Sources/Status/StatusPill.swift"
          ],
          "verification": {
            "type": "command",
            "command": "ls ios/Sources/Components/",
            "expected": "GlassCard.swift exists"
          },
          "status": "pending"
        }
      ]
    },
    {
      "id": "phase-5-ios-ui",
      "name": "iOS UI Updates",
      "type": "implementation",
      "description": "Apply blur effects to existing iOS UI components",
      "depends_on": [
        "phase-4-ios-base"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-5-1",
          "description": "Update RootTabs.swift with glass navigation",
          "service": "ios",
          "files_to_modify": [
            "ios/Sources/RootTabs.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Components/GlassContainer.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'material\\|BlurView' ios/Sources/RootTabs.swift",
            "expected": "Non-zero count"
          },
          "status": "pending"
        },
        {
          "id": "subtask-5-2",
          "description": "Update StatusPill.swift with enhanced glass effect",
          "service": "ios",
          "files_to_modify": [
            "ios/Sources/Status/StatusPill.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Components/GlassCard.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'material\\|ultraThinMaterial' ios/Sources/Status/StatusPill.swift",
            "expected": "At least 2"
          },
          "status": "pending"
        },
        {
          "id": "subtask-5-3",
          "description": "Update VoiceWakeToast.swift with consistent glass style",
          "service": "ios",
          "files_to_modify": [
            "ios/Sources/Status/VoiceWakeToast.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Components/GlassCard.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'material\\|ultraThinMaterial' ios/Sources/Status/VoiceWakeToast.swift",
            "expected": "At least 1"
          },
          "status": "pending"
        },
        {
          "id": "subtask-5-4",
          "description": "Update SettingsTab.swift with glass backgrounds",
          "service": "ios",
          "files_to_modify": [
            "ios/Sources/Settings/SettingsTab.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Components/GlassContainer.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'material\\|BlurView' ios/Sources/Settings/SettingsTab.swift",
            "expected": "Non-zero count"
          },
          "status": "pending"
        },
        {
          "id": "subtask-5-5",
          "description": "Update VoiceTab.swift with glass effects",
          "service": "ios",
          "files_to_modify": [
            "ios/Sources/Voice/VoiceTab.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Components/GlassContainer.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'material\\|BlurView' ios/Sources/Voice/VoiceTab.swift",
            "expected": "Non-zero count"
          },
          "status": "pending"
        },
        {
          "id": "subtask-5-6",
          "description": "Update ChatSheet.swift with glass container",
          "service": "ios",
          "files_to_modify": [
            "ios/Sources/Chat/ChatSheet.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Components/GlassContainer.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'material\\|BlurView' ios/Sources/Chat/ChatSheet.swift",
            "expected": "Non-zero count"
          },
          "status": "pending"
        },
        {
          "id": "subtask-5-7",
          "description": "Update TalkOrbOverlay.swift with glass styling",
          "service": "ios",
          "files_to_modify": [
            "ios/Sources/Voice/TalkOrbOverlay.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Components/GlassContainer.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'material\\|BlurView' ios/Sources/Voice/TalkOrbOverlay.swift",
            "expected": "Non-zero count"
          },
          "status": "pending"
        },
        {
          "id": "subtask-5-8",
          "description": "Update ScreenTab.swift with glass container",
          "service": "ios",
          "files_to_modify": [
            "ios/Sources/Screen/ScreenTab.swift"
          ],
          "files_to_create": [],
          "patterns_from": [
            "ios/Sources/Components/GlassContainer.swift"
          ],
          "verification": {
            "type": "command",
            "command": "grep -c 'material\\|BlurView' ios/Sources/Screen/ScreenTab.swift",
            "expected": "Non-zero count"
          },
          "status": "pending"
        }
      ]
    },
    {
      "id": "phase-6-compat",
      "name": "Backward Compatibility & Accessibility",
      "type": "implementation",
      "description": "Implement version checks for 26.x features and ensure backward compatibility with macOS 12+ and iOS 15+. Add accessibility support.",
      "depends_on": [
        "phase-3-macos-ui",
        "phase-5-ios-ui"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-6-1",
          "description": "Create version compatibility utilities for macOS",
          "service": "macos",
          "files_to_modify": [],
          "files_to_create": [
            "macos/Sources/OpenClaw/Compatibility/VersionCompat.swift"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "ls macos/Sources/OpenClaw/Compatibility/",
            "expected": "VersionCompat.swift exists"
          },
          "status": "pending"
        },
        {
          "id": "subtask-6-2",
          "description": "Create version compatibility utilities for iOS",
          "service": "ios",
          "files_to_modify": [],
          "files_to_create": [
            "ios/Sources/Compatibility/VersionCompat.swift"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "ls ios/Sources/Compatibility/",
            "expected": "VersionCompat.swift exists"
          },
          "status": "pending"
        },
        {
          "id": "subtask-6-3",
          "description": "Add reduced motion support for animations",
          "service": "both",
          "files_to_modify": [
            "macos/Sources/OpenClaw/Components/GlassPanel.swift",
            "macos/Sources/OpenClaw/Components/GlassCard.swift",
            "ios/Sources/Components/GlassContainer.swift",
            "ios/Sources/Components/GlassCard.swift"
          ],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "grep -r 'reducedMotion\\|prefersReducedMotion' macos/Sources/OpenClaw/Components/ ios/Sources/Components/",
            "expected": "Non-empty output"
          },
          "status": "pending"
        },
        {
          "id": "subtask-6-4",
          "description": "Add high contrast mode support",
          "service": "both",
          "files_to_modify": [
            "macos/Sources/OpenClaw/Components/GlassPanel.swift",
            "ios/Sources/Components/GlassContainer.swift"
          ],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "grep -r 'accessibilityContrast\\|highContrast' macos/Sources/OpenClaw/Components/ ios/Sources/Components/",
            "expected": "Non-empty output"
          },
          "status": "pending"
        },
        {
          "id": "subtask-6-5",
          "description": "Document version compatibility in design guide",
          "service": "documentation",
          "files_to_modify": [
            "docs/design-guide.md"
          ],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "grep -c 'VersionCompat\\|@available' docs/design-guide.md",
            "expected": "Non-zero count"
          },
          "status": "pending"
        }
      ]
    },
    {
      "id": "phase-7-integration",
      "name": "Integration & Verification",
      "type": "integration",
      "description": "Build both projects, run tests, and verify all glassmorphism effects work correctly",
      "depends_on": [
        "phase-6-compat"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-7-1",
          "description": "Build macOS project",
          "service": "macos",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "xcodebuild -project macos/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug build 2>&1 | tail -10",
            "expected": "BUILD SUCCEEDED"
          },
          "status": "pending"
        },
        {
          "id": "subtask-7-2",
          "description": "Build iOS project",
          "service": "ios",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "xcodebuild -project ios/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug -destination 'platform=iOS Simulator,name=iPhone 15' build 2>&1 | tail -10",
            "expected": "BUILD SUCCEEDED"
          },
          "status": "pending"
        },
        {
          "id": "subtask-7-3",
          "description": "Run macOS unit tests",
          "service": "macos",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "xcodebuild -project macos/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug test 2>&1 | tail -20",
            "expected": "TEST SUCCEEDED"
          },
          "status": "pending"
        },
        {
          "id": "subtask-7-4",
          "description": "Run iOS unit tests",
          "service": "ios",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "xcodebuild -project ios/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug -destination 'platform=iOS Simulator,name=iPhone 15' test 2>&1 | tail -20",
            "expected": "TEST SUCCEEDED"
          },
          "status": "pending"
        },
        {
          "id": "subtask-7-5",
          "description": "Finalize design guide with complete component library",
          "service": "documentation",
          "files_to_modify": [
            "docs/design-guide.md"
          ],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "wc -l docs/design-guide.md",
            "expected": "At least 200 lines"
          },
          "status": "pending"
        }
      ]
    }
  ],
  "summary": {
    "total_phases": 7,
    "total_subtasks": 41,
    "services_involved": [
      "macos",
      "ios",
      "documentation"
    ],
    "parallelism": {
      "max_parallel_phases": 1,
      "parallel_groups": [],
      "recommended_workers": 1,
      "reasoning": "Phases have sequential dependencies - each platform builds on the previous phase. macOS and iOS work is done in separate phases due to different component libraries needed."
    },
    "startup_command": "echo 'Native apps require Xcode. Open in Xcode: open macos/OpenClaw.xcodeproj && open ios/OpenClaw.xcodeproj'"
  },
  "verification_strategy": {
    "risk_level": "high",
    "skip_validation": false,
    "test_creation_phase": "post_implementation",
    "test_types_required": [
      "unit",
      "integration"
    ],
    "security_scanning_required": false,
    "staging_deployment_required": true,
    "acceptance_criteria": [
      "macOS build succeeds",
      "iOS build succeeds",
      "All unit tests pass",
      "Design guide complete with all components documented",
      "Glassmorphism effects visible on both platforms",
      "Backward compatibility verified on minimum OS versions"
    ],
    "verification_steps": [
      {
        "name": "macOS Build",
        "command": "xcodebuild -project macos/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug build",
        "expected_outcome": "BUILD SUCCEEDED",
        "type": "build",
        "required": true,
        "blocking": true
      },
      {
        "name": "iOS Build",
        "command": "xcodebuild -project ios/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug -destination 'platform=iOS Simulator,name=iPhone 15' build",
        "expected_outcome": "BUILD SUCCEEDED",
        "type": "build",
        "required": true,
        "blocking": true
      },
      {
        "name": "macOS Tests",
        "command": "xcodebuild -project macos/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug test",
        "expected_outcome": "All tests pass",
        "type": "test",
        "required": true,
        "blocking": true
      },
      {
        "name": "iOS Tests",
        "command": "xcodebuild -project ios/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug -destination 'platform=iOS Simulator,name=iPhone 15' test",
        "expected_outcome": "All tests pass",
        "type": "test",
        "required": true,
        "blocking": true
      },
      {
        "name": "Design Guide Review",
        "command": "ls -la docs/design-guide.md",
        "expected_outcome": "File exists with comprehensive content",
        "type": "manual",
        "required": true,
        "blocking": false
      }
    ],
    "reasoning": "High risk change requires build verification on both platforms plus test execution. Design guide must be reviewed manually for completeness."
  },
  "qa_acceptance": {
    "unit_tests": {
      "required": true,
      "commands": [
        "xcodebuild -project macos/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug test",
        "xcodebuild -project ios/OpenClaw.xcodeproj -scheme OpenClaw -configuration Debug -destination 'platform=iOS Simulator,name=iPhone 15' test"
      ],
      "minimum_coverage": null
    },
    "integration_tests": {
      "required": false,
      "commands": [],
      "services_to_test": [
        "macos",
        "ios"
      ]
    },
    "e2e_tests": {
      "required": false,
      "commands": [],
      "flows": []
    },
    "browser_verification": {
      "required": false,
      "pages": []
    },
    "database_verification": {
      "required": false,
      "checks": []
    }
  },
  "qa_signoff": null,
  "status": "human_review",
  "planStatus": "review",
  "xstateState": "human_review",
  "executionPhase": "complete",
  "updated_at": "2026-02-14T06:09:57.222Z",
  "lastEvent": {
    "eventId": "2a7a2f70-ddc9-4723-9234-38dc442ca015",
    "sequence": 0,
    "type": "PLANNING_COMPLETE",
    "timestamp": "2026-02-14T03:28:09.793853+00:00"
  },
  "last_updated": "2026-02-14T03:38:35.712353+00:00",
  "reviewReason": "stopped"
}