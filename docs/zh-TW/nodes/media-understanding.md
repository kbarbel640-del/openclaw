---
summary: ã€Œå…¥ç«™å½±åƒï¼éŸ³è¨Šï¼å½±ç‰‡ç†è§£ï¼ˆé¸ç”¨ï¼‰ï¼Œæ”¯æ´æä¾›è€… + CLI å¾Œå‚™æ–¹æ¡ˆã€
read_when:
  - è¨­è¨ˆæˆ–é‡æ§‹åª’é«”ç†è§£
  - èª¿æ ¡å…¥ç«™éŸ³è¨Šï¼å½±ç‰‡ï¼å½±åƒçš„å‰è™•ç†
title: ã€Œåª’é«”ç†è§£ã€
x-i18n:
  source_path: nodes/media-understanding.md
  source_hash: 4b275b152060eae3
  provider: openai
  model: gpt-5.2-chat-latest
  workflow: v1
  generated_at: 2026-02-08T06:54:04Z
---

# åª’é«”ç†è§£ï¼ˆå…¥ç«™ï¼‰â€” 2026-01-17

OpenClaw å¯åœ¨å›è¦†ç®¡ç·šåŸ·è¡Œå‰ï¼Œ**æ‘˜è¦å…¥ç«™åª’é«”**ï¼ˆå½±åƒï¼éŸ³è¨Šï¼å½±ç‰‡ï¼‰ã€‚å®ƒæœƒè‡ªå‹•åµæ¸¬æœ¬æ©Ÿå·¥å…·æˆ–æä¾›è€…é‡‘é‘°æ˜¯å¦å¯ç”¨ï¼Œä¸¦å¯åœç”¨æˆ–è‡ªè¨‚ã€‚è‹¥é—œé–‰ç†è§£åŠŸèƒ½ï¼Œæ¨¡å‹ä»æœƒå¦‚å¸¸æ¥æ”¶åŸå§‹æª”æ¡ˆï¼URLã€‚

## ç›®æ¨™

- é¸ç”¨ï¼šå°‡å…¥ç«™åª’é«”é å…ˆæ¶ˆåŒ–ç‚ºç²¾ç°¡æ–‡å­—ï¼Œä»¥åŠ å¿«è·¯ç”±ä¸¦æå‡æŒ‡ä»¤è§£æå“è³ªã€‚
- å§‹çµ‚ä¿ç•™åŸå§‹åª’é«”å‚³éçµ¦æ¨¡å‹ï¼ˆä¸€å®šæœƒï¼‰ã€‚
- æ”¯æ´ **æä¾›è€… API** èˆ‡ **CLI å¾Œå‚™æ–¹æ¡ˆ**ã€‚
- å…è¨±å¤šå€‹æ¨¡å‹ä¸¦å…·å‚™æœ‰åºå¾Œå‚™ï¼ˆéŒ¯èª¤ï¼å¤§å°ï¼é€¾æ™‚ï¼‰ã€‚

## é«˜éšè¡Œç‚º

1. æ”¶é›†å…¥ç«™é™„ä»¶ï¼ˆ`MediaPaths`ã€`MediaUrls`ã€`MediaTypes`ï¼‰ã€‚
2. é‡å°æ¯å€‹å·²å•Ÿç”¨çš„èƒ½åŠ›ï¼ˆå½±åƒï¼éŸ³è¨Šï¼å½±ç‰‡ï¼‰ï¼Œä¾æ”¿ç­–é¸å–é™„ä»¶ï¼ˆé è¨­ï¼š**ç¬¬ä¸€å€‹**ï¼‰ã€‚
3. é¸æ“‡ç¬¬ä¸€å€‹ç¬¦åˆè³‡æ ¼çš„æ¨¡å‹é …ç›®ï¼ˆå¤§å° + èƒ½åŠ› + é©—è­‰ï¼‰ã€‚
4. è‹¥æ¨¡å‹å¤±æ•—æˆ–åª’é«”éå¤§ï¼Œ**å›é€€åˆ°ä¸‹ä¸€å€‹é …ç›®**ã€‚
5. æˆåŠŸæ™‚ï¼š
   - `Body` æœƒæˆç‚º `[Image]`ã€`[Audio]` æˆ– `[Video]` å€å¡Šã€‚
   - éŸ³è¨Šæœƒè¨­å®š `{{Transcript}}`ï¼›æŒ‡ä»¤è§£æåœ¨æœ‰å­—å¹•æ™‚ä½¿ç”¨å­—å¹•æ–‡å­—ï¼Œå¦å‰‡ä½¿ç”¨é€å­—ç¨¿ã€‚
   - å­—å¹•æœƒä»¥ `User text:` çš„å½¢å¼ä¿ç•™åœ¨å€å¡Šå…§ã€‚

è‹¥ç†è§£å¤±æ•—æˆ–è¢«åœç”¨ï¼Œ**å›è¦†æµç¨‹ä»æœƒç¹¼çºŒ**ï¼Œä¸¦ä½¿ç”¨åŸå§‹å…§å®¹ + é™„ä»¶ã€‚

## è¨­å®šç¸½è¦½

`tools.media` æ”¯æ´ **å…±äº«æ¨¡å‹** ä»¥åŠå„èƒ½åŠ›çš„è¦†å¯«ï¼š

- `tools.media.models`ï¼šå…±äº«æ¨¡å‹æ¸…å–®ï¼ˆä½¿ç”¨ `capabilities` é€²è¡Œé–€æ§ï¼‰ã€‚
- `tools.media.image` / `tools.media.audio` / `tools.media.video`ï¼š
  - é è¨­å€¼ï¼ˆ`prompt`ã€`maxChars`ã€`maxBytes`ã€`timeoutSeconds`ã€`language`ï¼‰
  - æä¾›è€…è¦†å¯«ï¼ˆ`baseUrl`ã€`headers`ã€`providerOptions`ï¼‰
  - é€é `tools.media.audio.providerOptions.deepgram` çš„ Deepgram éŸ³è¨Šé¸é …
  - é¸ç”¨çš„ **å„èƒ½åŠ› `models` æ¸…å–®**ï¼ˆå„ªå…ˆæ–¼å…±äº«æ¨¡å‹ï¼‰
  - `attachments` æ”¿ç­–ï¼ˆ`mode`ã€`maxAttachments`ã€`prefer`ï¼‰
  - `scope`ï¼ˆä¾é »é“ï¼chatTypeï¼session é‡‘é‘°é€²è¡Œé¸ç”¨é–€æ§ï¼‰
- `tools.media.concurrency`ï¼šèƒ½åŠ›åŒæ™‚åŸ·è¡Œçš„æœ€å¤§æ•¸é‡ï¼ˆé è¨­ **2**ï¼‰ã€‚

```json5
{
  tools: {
    media: {
      models: [
        /* shared list */
      ],
      image: {
        /* optional overrides */
      },
      audio: {
        /* optional overrides */
      },
      video: {
        /* optional overrides */
      },
    },
  },
}
```

### æ¨¡å‹é …ç›®

æ¯å€‹ `models[]` é …ç›®å¯ä»¥æ˜¯ **æä¾›è€…** æˆ– **CLI**ï¼š

```json5
{
  type: "provider", // default if omitted
  provider: "openai",
  model: "gpt-5.2",
  prompt: "Describe the image in <= 500 chars.",
  maxChars: 500,
  maxBytes: 10485760,
  timeoutSeconds: 60,
  capabilities: ["image"], // optional, used for multiâ€‘modal entries
  profile: "vision-profile",
  preferredProfile: "vision-fallback",
}
```

```json5
{
  type: "cli",
  command: "gemini",
  args: [
    "-m",
    "gemini-3-flash",
    "--allowed-tools",
    "read_file",
    "Read the media at {{MediaPath}} and describe it in <= {{MaxChars}} characters.",
  ],
  maxChars: 500,
  maxBytes: 52428800,
  timeoutSeconds: 120,
  capabilities: ["video", "image"],
}
```

CLI ç¯„æœ¬ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š

- `{{MediaDir}}`ï¼ˆåŒ…å«åª’é«”æª”æ¡ˆçš„ç›®éŒ„ï¼‰
- `{{OutputDir}}`ï¼ˆç‚ºæ­¤åŸ·è¡Œå»ºç«‹çš„æš«å­˜ç›®éŒ„ï¼‰
- `{{OutputBase}}`ï¼ˆæš«å­˜æª”æ¡ˆçš„åŸºåº•è·¯å¾‘ï¼Œç„¡å‰¯æª”åï¼‰

## é è¨­å€¼èˆ‡é™åˆ¶

å»ºè­°çš„é è¨­å€¼ï¼š

- `maxChars`ï¼šå½±åƒï¼å½±ç‰‡ç‚º **500**ï¼ˆç²¾ç°¡ã€åˆ©æ–¼æŒ‡ä»¤ï¼‰
- `maxChars`ï¼šéŸ³è¨Šç‚º **æœªè¨­å®š**ï¼ˆé™¤éä½ è¨­å®šé™åˆ¶ï¼Œå¦å‰‡ç‚ºå®Œæ•´é€å­—ç¨¿ï¼‰
- `maxBytes`ï¼š
  - å½±åƒï¼š**10MB**
  - éŸ³è¨Šï¼š**20MB**
  - å½±ç‰‡ï¼š**50MB**

è¦å‰‡ï¼š

- è‹¥åª’é«”è¶…é `maxBytes`ï¼Œè©²æ¨¡å‹æœƒè¢«ç•¥éï¼Œä¸¦**å˜—è©¦ä¸‹ä¸€å€‹æ¨¡å‹**ã€‚
- è‹¥æ¨¡å‹å›å‚³è¶…é `maxChars`ï¼Œè¼¸å‡ºæœƒè¢«æˆªæ–·ã€‚
- `prompt` é è¨­ç‚ºç°¡å–®çš„ã€ŒDescribe the {media}.ã€ï¼Œä¸¦åŠ ä¸Š `maxChars` çš„æŒ‡å¼•ï¼ˆåƒ…å½±åƒï¼å½±ç‰‡ï¼‰ã€‚
- è‹¥ `<capability>.enabled: true` ä½†æœªè¨­å®šä»»ä½•æ¨¡å‹ï¼Œç•¶å…¶æä¾›è€…æ”¯æ´è©²èƒ½åŠ›æ™‚ï¼ŒOpenClaw æœƒå˜—è©¦ä½¿ç”¨ **ç›®å‰çš„å›è¦†æ¨¡å‹**ã€‚

### è‡ªå‹•åµæ¸¬åª’é«”ç†è§£ï¼ˆé è¨­ï¼‰

è‹¥æœªå°‡ `tools.media.<capability>.enabled` è¨­ç‚º `false`ï¼Œä¸”ä½ å°šæœªè¨­å®šæ¨¡å‹ï¼ŒOpenClaw æœƒä¾ä¸‹åˆ—é †åºè‡ªå‹•åµæ¸¬ï¼Œä¸¦åœ¨**ç¬¬ä¸€å€‹å¯ç”¨é¸é …**å³åœæ­¢ï¼š

1. **æœ¬æ©Ÿ CLI**ï¼ˆåƒ…éŸ³è¨Šï¼›è‹¥å·²å®‰è£ï¼‰
   - `sherpa-onnx-offline`ï¼ˆéœ€è¦ `SHERPA_ONNX_MODEL_DIR`ï¼Œå«ç·¨ç¢¼å™¨ï¼è§£ç¢¼å™¨ï¼joinerï¼tokensï¼‰
   - `whisper-cli`ï¼ˆ`whisper-cpp`ï¼›ä½¿ç”¨ `WHISPER_CPP_MODEL` æˆ–éš¨é™„çš„ tiny æ¨¡å‹ï¼‰
   - `whisper`ï¼ˆPython CLIï¼›è‡ªå‹•ä¸‹è¼‰æ¨¡å‹ï¼‰
2. **Gemini CLI**ï¼ˆ`gemini`ï¼‰ï¼Œä½¿ç”¨ `read_many_files`
3. **æä¾›è€…é‡‘é‘°**
   - éŸ³è¨Šï¼šOpenAI â†’ Groq â†’ Deepgram â†’ Google
   - å½±åƒï¼šOpenAI â†’ Anthropic â†’ Google â†’ MiniMax
   - å½±ç‰‡ï¼šGoogle

è‹¥è¦åœç”¨è‡ªå‹•åµæ¸¬ï¼Œè«‹è¨­å®šï¼š

```json5
{
  tools: {
    media: {
      audio: {
        enabled: false,
      },
    },
  },
}
```

æ³¨æ„ï¼šäºŒé€²ä½æª”åµæ¸¬åœ¨ macOSï¼Linuxï¼Windows ä¸Šç‚ºæœ€ä½³åŠªåŠ›ï¼›è«‹ç¢ºä¿ CLI ä½æ–¼ `PATH`ï¼ˆæˆ‘å€‘æœƒå±•é–‹ `~`ï¼‰ï¼Œæˆ–è¨­å®šå…·å‚™å®Œæ•´å‘½ä»¤è·¯å¾‘çš„æ˜ç¢º CLI æ¨¡å‹ã€‚

## èƒ½åŠ›ï¼ˆé¸ç”¨ï¼‰

è‹¥ä½ è¨­å®š `capabilities`ï¼Œè©²é …ç›®åªæœƒåœ¨é‚£äº›åª’é«”é¡å‹æ™‚åŸ·è¡Œã€‚å°æ–¼å…±äº«æ¸…å–®ï¼ŒOpenClaw å¯æ¨æ–·é è¨­å€¼ï¼š

- `openai`ã€`anthropic`ã€`minimax`ï¼š**å½±åƒ**
- `google`ï¼ˆGemini APIï¼‰ï¼š**å½±åƒ + éŸ³è¨Š + å½±ç‰‡**
- `groq`ï¼š**éŸ³è¨Š**
- `deepgram`ï¼š**éŸ³è¨Š**

å°æ–¼ CLI é …ç›®ï¼Œ**è«‹æ˜ç¢ºè¨­å®š `capabilities`** ä»¥é¿å…æ„å¤–åŒ¹é…ã€‚è‹¥çœç•¥ `capabilities`ï¼Œè©²é …ç›®æœƒç¬¦åˆå…¶æ‰€åœ¨æ¸…å–®çš„è³‡æ ¼ã€‚

## æä¾›è€…æ”¯æ´çŸ©é™£ï¼ˆOpenClaw æ•´åˆï¼‰

| èƒ½åŠ› | æä¾›è€…æ•´åˆ                                         | å‚™è¨»                                      |
| ---- | -------------------------------------------------- | ----------------------------------------- |
| å½±åƒ | OpenAI / Anthropic / Google / å…¶ä»–ï¼ˆé€é `pi-ai`ï¼‰ | ç™»éŒ„ä¸­çš„ä»»ä½•æ”¯æ´å½±åƒçš„æ¨¡å‹çš†å¯ã€‚          |
| éŸ³è¨Š | OpenAIã€Groqã€Deepgramã€Google                     | æä¾›è€…è½‰éŒ„ï¼ˆWhisperï¼Deepgramï¼Geminiï¼‰ã€‚ |
| å½±ç‰‡ | Googleï¼ˆGemini APIï¼‰                               | æä¾›è€…å½±ç‰‡ç†è§£ã€‚                          |

## å»ºè­°çš„æä¾›è€…

**å½±åƒ**

- è‹¥ç›®å‰ä½¿ç”¨çš„æ¨¡å‹æ”¯æ´å½±åƒï¼Œå„ªå…ˆä½¿ç”¨å®ƒã€‚
- è‰¯å¥½é è¨­ï¼š`openai/gpt-5.2`ã€`anthropic/claude-opus-4-6`ã€`google/gemini-3-pro-preview`ã€‚

**éŸ³è¨Š**

- `openai/gpt-4o-mini-transcribe`ã€`groq/whisper-large-v3-turbo` æˆ– `deepgram/nova-3`ã€‚
- CLI å¾Œå‚™ï¼š`whisper-cli`ï¼ˆwhisper-cppï¼‰æˆ– `whisper`ã€‚
- Deepgram è¨­å®šï¼š[Deepgramï¼ˆéŸ³è¨Šè½‰éŒ„ï¼‰](/providers/deepgram)ã€‚

**å½±ç‰‡**

- `google/gemini-3-flash-preview`ï¼ˆå¿«é€Ÿï¼‰ã€`google/gemini-3-pro-preview`ï¼ˆå…§å®¹è¼ƒè±å¯Œï¼‰ã€‚
- CLI å¾Œå‚™ï¼š`gemini` CLIï¼ˆæ”¯æ´å½±ç‰‡ï¼éŸ³è¨Šçš„ `read_file`ï¼‰ã€‚

## é™„ä»¶æ”¿ç­–

å„èƒ½åŠ›çš„ `attachments` æ§åˆ¶è¦è™•ç†å“ªäº›é™„ä»¶ï¼š

- `mode`ï¼š`first`ï¼ˆé è¨­ï¼‰æˆ– `all`
- `maxAttachments`ï¼šé™åˆ¶è™•ç†æ•¸é‡ï¼ˆé è¨­ **1**ï¼‰
- `prefer`ï¼š`first`ã€`last`ã€`path`ã€`url`

ç•¶ `mode: "all"` æ™‚ï¼Œè¼¸å‡ºæœƒæ¨™ç¤ºç‚º `[Image 1/2]`ã€`[Audio 2/2]`ï¼Œä¾æ­¤é¡æ¨ã€‚

## è¨­å®šç¯„ä¾‹

### 1) å…±äº«æ¨¡å‹æ¸…å–® + è¦†å¯«

```json5
{
  tools: {
    media: {
      models: [
        { provider: "openai", model: "gpt-5.2", capabilities: ["image"] },
        {
          provider: "google",
          model: "gemini-3-flash-preview",
          capabilities: ["image", "audio", "video"],
        },
        {
          type: "cli",
          command: "gemini",
          args: [
            "-m",
            "gemini-3-flash",
            "--allowed-tools",
            "read_file",
            "Read the media at {{MediaPath}} and describe it in <= {{MaxChars}} characters.",
          ],
          capabilities: ["image", "video"],
        },
      ],
      audio: {
        attachments: { mode: "all", maxAttachments: 2 },
      },
      video: {
        maxChars: 500,
      },
    },
  },
}
```

### 2) åƒ…éŸ³è¨Š + å½±ç‰‡ï¼ˆé—œé–‰å½±åƒï¼‰

```json5
{
  tools: {
    media: {
      audio: {
        enabled: true,
        models: [
          { provider: "openai", model: "gpt-4o-mini-transcribe" },
          {
            type: "cli",
            command: "whisper",
            args: ["--model", "base", "{{MediaPath}}"],
          },
        ],
      },
      video: {
        enabled: true,
        maxChars: 500,
        models: [
          { provider: "google", model: "gemini-3-flash-preview" },
          {
            type: "cli",
            command: "gemini",
            args: [
              "-m",
              "gemini-3-flash",
              "--allowed-tools",
              "read_file",
              "Read the media at {{MediaPath}} and describe it in <= {{MaxChars}} characters.",
            ],
          },
        ],
      },
    },
  },
}
```

### 3) é¸ç”¨å½±åƒç†è§£

```json5
{
  tools: {
    media: {
      image: {
        enabled: true,
        maxBytes: 10485760,
        maxChars: 500,
        models: [
          { provider: "openai", model: "gpt-5.2" },
          { provider: "anthropic", model: "claude-opus-4-6" },
          {
            type: "cli",
            command: "gemini",
            args: [
              "-m",
              "gemini-3-flash",
              "--allowed-tools",
              "read_file",
              "Read the media at {{MediaPath}} and describe it in <= {{MaxChars}} characters.",
            ],
          },
        ],
      },
    },
  },
}
```

### 4) å¤šæ¨¡æ…‹å–®ä¸€é …ç›®ï¼ˆæ˜ç¢ºèƒ½åŠ›ï¼‰

```json5
{
  tools: {
    media: {
      image: {
        models: [
          {
            provider: "google",
            model: "gemini-3-pro-preview",
            capabilities: ["image", "video", "audio"],
          },
        ],
      },
      audio: {
        models: [
          {
            provider: "google",
            model: "gemini-3-pro-preview",
            capabilities: ["image", "video", "audio"],
          },
        ],
      },
      video: {
        models: [
          {
            provider: "google",
            model: "gemini-3-pro-preview",
            capabilities: ["image", "video", "audio"],
          },
        ],
      },
    },
  },
}
```

## ç‹€æ…‹è¼¸å‡º

ç•¶åª’é«”ç†è§£åŸ·è¡Œæ™‚ï¼Œ`/status` æœƒåŒ…å«ä¸€è¡Œç°¡çŸ­æ‘˜è¦ï¼š

```
ğŸ“ Media: image ok (openai/gpt-5.2) Â· audio skipped (maxBytes)
```

æ­¤å…§å®¹æœƒé¡¯ç¤ºå„èƒ½åŠ›çš„çµæœï¼Œä»¥åŠé©ç”¨æ™‚æ‰€é¸æ“‡çš„æä¾›è€…ï¼æ¨¡å‹ã€‚

## æ³¨æ„äº‹é …

- ç†è§£ç‚º **æœ€ä½³åŠªåŠ›**ã€‚éŒ¯èª¤ä¸æœƒé˜»æ“‹å›è¦†ã€‚
- å³ä½¿åœç”¨ç†è§£ï¼Œé™„ä»¶ä»æœƒå‚³éçµ¦æ¨¡å‹ã€‚
- ä½¿ç”¨ `scope` ä¾†é™åˆ¶ç†è§£çš„åŸ·è¡Œç¯„åœï¼ˆä¾‹å¦‚åƒ…é™ç§è¨Šï¼‰ã€‚

## ç›¸é—œæ–‡ä»¶

- [Configuration](/gateway/configuration)
- [Image & Media Support](/nodes/images)
