---
summary: "Ứng dụng node iOS: kết nối tới Gateway, ghép cặp, canvas và xử lý sự cố"
read_when:
  - Ghép cặp hoặc kết nối lại node iOS
  - Chạy ứng dụng iOS từ mã nguồn
  - Gỡ lỗi phát hiện gateway hoặc lệnh canvas
title: "Ứng dụng iOS"
x-i18n:
  source_path: platforms/ios.md
  source_hash: 692eebdc82e4bb8d
  provider: openai
  model: gpt-5.2-chat-latest
  workflow: v1
  generated_at: 2026-02-08T07:07:49Z
---

# Ứng dụng iOS (Node)

Khả dụng: bản xem trước nội bộ. Ứng dụng iOS hiện chưa được phân phối công khai.

## Chức năng

- Kết nối tới Gateway qua WebSocket (LAN hoặc tailnet).
- Mở các khả năng của node: Canvas, chụp ảnh màn hình, chụp camera, vị trí, chế độ nói chuyện, đánh thức bằng giọng nói.
- Nhận các lệnh `node.invoke` và báo cáo các sự kiện trạng thái của node.

## Yêu cầu

- Gateway chạy trên một thiết bị khác (macOS, Linux, hoặc Windows qua WSL2).
- Đường mạng:
  - Cùng LAN qua Bonjour, **hoặc**
  - Tailnet qua unicast DNS-SD (ví dụ domain: `openclaw.internal.`), **hoặc**
  - Host/cổng thủ công (phương án dự phòng).

## Khoi dong nhanh (ghép cặp + kết nối)

1. Khởi động Gateway:

```bash
openclaw gateway --port 18789
```

2. Trong ứng dụng iOS, mở Settings và chọn một gateway được phát hiện (hoặc bật Manual Host và nhập host/cổng).

3. Phê duyệt yêu cầu ghép cặp trên máy chủ gateway:

```bash
openclaw nodes pending
openclaw nodes approve <requestId>
```

4. Xác minh kết nối:

```bash
openclaw nodes status
openclaw gateway call node.list --params "{}"
```

## Các đường phát hiện

### Bonjour (LAN)

Gateway quảng bá `_openclaw-gw._tcp` trên `local.`. Ứng dụng iOS sẽ tự động liệt kê các mục này.

### Tailnet (xuyên mạng)

Nếu mDNS bị chặn, hãy dùng một vùng unicast DNS-SD (chọn một domain; ví dụ: `openclaw.internal.`) và Tailscale split DNS.
Xem [Bonjour](/gateway/bonjour) để biết ví dụ CoreDNS.

### Host/cổng thủ công

Trong Settings, bật **Manual Host** và nhập host + cổng của gateway (mặc định `18789`).

## Canvas + A2UI

Node iOS hiển thị canvas bằng WKWebView. Dùng `node.invoke` để điều khiển:

```bash
openclaw nodes invoke --node "iOS Node" --command canvas.navigate --params '{"url":"http://<gateway-host>:18793/__openclaw__/canvas/"}'
```

Ghi chú:

- Máy chủ canvas của Gateway phục vụ `/__openclaw__/canvas/` và `/__openclaw__/a2ui/`.
- Node iOS tự động điều hướng tới A2UI khi kết nối nếu có quảng bá URL máy chủ canvas.
- Quay lại scaffold tích hợp bằng `canvas.navigate` và `{"url":""}`.

### Canvas eval / snapshot

```bash
openclaw nodes invoke --node "iOS Node" --command canvas.eval --params '{"javaScript":"(() => { const {ctx} = window.__openclaw; ctx.clearRect(0,0,innerWidth,innerHeight); ctx.lineWidth=6; ctx.strokeStyle=\"#ff2d55\"; ctx.beginPath(); ctx.moveTo(40,40); ctx.lineTo(innerWidth-40, innerHeight-40); ctx.stroke(); return \"ok\"; })()"}'
```

```bash
openclaw nodes invoke --node "iOS Node" --command canvas.snapshot --params '{"maxWidth":900,"format":"jpeg"}'
```

## Đánh thức bằng giọng nói + chế độ nói chuyện

- Đánh thức bằng giọng nói và chế độ nói chuyện có sẵn trong Settings.
- iOS có thể tạm dừng âm thanh nền; hãy coi các tính năng giọng nói là best-effort khi ứng dụng không hoạt động.

## Lỗi thường gặp

- `NODE_BACKGROUND_UNAVAILABLE`: đưa ứng dụng iOS lên foreground (các lệnh canvas/camera/màn hình yêu cầu điều này).
- `A2UI_HOST_NOT_CONFIGURED`: Gateway không quảng bá URL máy chủ canvas; kiểm tra `canvasHost` trong [Cau hinh Gateway](/gateway/configuration).
- Không thấy lời nhắc ghép cặp: chạy `openclaw nodes pending` và phê duyệt thủ công.
- Kết nối lại thất bại sau khi cài lại: token ghép cặp trong Keychain đã bị xóa; hãy ghép cặp lại node.

## Tài liệu liên quan

- [Ghép cặp](/gateway/pairing)
- [Kham pha](/gateway/discovery)
- [Bonjour](/gateway/bonjour)
