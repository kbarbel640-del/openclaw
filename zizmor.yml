# zizmor configuration
# https://docs.zizmor.sh/configuration/

rules:
  # SECURITY: All rules are now enabled.
  # Previously, unpinned-uses, excessive-permissions, and artipacked
  # were disabled. These are now enforced to improve supply chain security.

  # unpinned-uses: Actions should be pinned to SHA hashes to prevent
  # dependency confusion and compromised action version attacks.
  # When adding new actions, pin them to their full SHA hash:
  #   uses: actions/checkout@<commit-sha>  # v4
  unpinned-uses:
    level: warning # Warn (not fail) during transition â€” pin actions incrementally.

  # excessive-permissions: Workflows should declare minimal permissions.
  # The top-level permissions: { contents: read } has been added to ci.yml.
  excessive-permissions:
    level: error

  # artipacked: Checkout actions should use persist-credentials: false
  # to prevent credential leakage via git config.
  artipacked:
    level: warning # Warn during transition.
