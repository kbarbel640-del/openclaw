{
  "id": "whatsapp-passive-monitor",
  "name": "WhatsApp Passive Monitor",
  "description": "Intercepts WhatsApp messages, stores in SQLite, and classifies via local LLM. Returns { handled: true } for WhatsApp to cancel agent dispatch.",
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "ollamaUrl": {
        "type": "string"
      },
      "model": {
        "type": "string"
      },
      "debounceMs": {
        "type": "number"
      },
      "cooldownMs": {
        "type": "number"
      },
      "contextMessageLimit": {
        "type": "number"
      },
      "dbPath": {
        "type": "string"
      },
      "outputDir": {
        "type": "string"
      }
    }
  },
  "uiHints": {
    "ollamaUrl": {
      "label": "Ollama URL",
      "help": "URL of the Ollama API (default: http://localhost:11434)"
    },
    "model": {
      "label": "Model",
      "help": "Ollama model for classification (default: llama3.1:8b)"
    },
    "debounceMs": {
      "label": "Debounce (ms)",
      "help": "Silence period before classifying a conversation (default: 5000)"
    },
    "cooldownMs": {
      "label": "Cooldown (ms)",
      "help": "Minimum time between triggers for the same detector (default: 300000)"
    },
    "contextMessageLimit": {
      "label": "Context Limit",
      "help": "Max messages to include in classifier context (default: 20)"
    },
    "dbPath": {
      "label": "Database Path",
      "help": "Relative path for SQLite database (default: passive/messages.db)"
    },
    "outputDir": {
      "label": "Output Directory",
      "help": "Relative path for classification logs (default: passive)"
    }
  }
}
