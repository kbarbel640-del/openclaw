# Production configuration for OpenClaw Kubernetes deployment

# HA configuration with multiple replicas
gateway:
  replicas: 3
  resources:
    requests:
      memory: "512Mi"
      cpu: "500m"
    limits:
      memory: "1Gi"
      cpu: "1000m"
  
  # Production authentication token (use secrets in production)
  auth:
    token: "your-secure-production-token-here"
  
  livenessProbe:
    initialDelaySeconds: 60
    periodSeconds: 15
    timeoutSeconds: 10
    failureThreshold: 5
  readinessProbe:
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
  
  updateStrategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
  
  # Production environment variables
  env:
    LOG_LEVEL: "info"

agent:
  enabled: true
  replicas: 3
  resources:
    requests:
      memory: "512Mi"
      cpu: "500m"
    limits:
      memory: "1Gi"
      cpu: "1000m"

# Persistent storage for production
pvc:
  enabled: true
  accessModes:
    - ReadWriteOnce
  storageClass: "standard"  # Or your preferred storage class
  size: 10Gi
  annotations:
    backup.kubernetes.io/backup: "true"

# EnableTLS for production
ingress:
  enabled: true
  className: "nginx"
  annotations:
    kubernetes.io/tls-acme: "true"
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: openclaw.your-domain.com
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: openclaw-tls
      hosts:
        - openclaw.your-domain.com

# Priority class for production workloads
priorityClassName: "production"
