# 2026-01-30

## GitHub репо для AI Secretar
- Влад попросил создать приватный репо на GitHub для AI Secretar
- gh CLI не авторизован — ждём `gh auth login`
- ✅ gh авторизован (аккаунт vladdick88), репо создан: https://github.com/vladdick88/ai-secretar (приватный)
- Код запушен в main (3 коммита)
- Проект: ~/Projects/ai_secretar/

## Правила работы с кодом (ВАЖНО)
- **Всегда использовать Claude Code** для любых изменений в проектах Влада — он настроен и готов
- **Стримить прогресс в чат** — короткие апдейты: что запустил, что происходит, ошибки, результат. Влад сидит в Телеграме и не видит терминал — нельзя молчать
- Формат: "Запускаю X..." → "Claude Code делает Y..." → "Ошибка Z / Готово: результат"

## Урок: надзиратель Claude Code
- Влад тестирует меня как надзирателя для Claude Code — это важная роль
- **Ошибка:** когда Claude Code попросил разрешение, я не отправил ему "y" через `process submit`, а сразу решил что проблема в gh auth и перехватил контроль
- **Правило:** сначала реагировать на запросы агента (давать input), потом делать выводы. Не перехватывать раньше времени.
- Workflow: exec (pty+background) → log → submit для input → log → повторять

## Новый проект: автоматизация short-form видео
- Идея: автоматический конвейер Shorts/TikTok/Reels
- Два типа: AI-generated контент + нарезка из фильмов
- Три продукта: личные каналы (пассивный доход), SaaS-бот (подписка), веб-платформа
- Стек: бесплатный (Groq, Edge TTS, FFmpeg, Playwright для Sora/постинга)
- Brainstorm проведён, исследование бесплатных тулзов сделано
- Изучен content-factory: MVP Фаза 1 готова (бот, генераторы, БД), Фаза 2 в работе (pipeline orchestrator)
- Новые тулзы найдены: Kokoro TTS (лучше Edge), Pixazo/Together AI (бесплатные изображения Flux)
- Roadmap составлен: 4 фазы, начинать с pipeline orchestrator + video assembler

## Brainstorm: философия Влада
- Главная философия: "Я думаю → система делает → я получаю результат"
- Ненавидит неэффективность — когда усилия не конвертируются в результат
- Все проекты (content factory, AI secretar, dating app, я) — одна идея в разных обёртках
- Хочет Джарвиса — армию автономных систем
- Подход: "я-first, AI-руки" — AI идёт по его сценарию, не импровизирует
- Метафора: Доктор Осьминог — мозг + много рук. Не "AI за меня", а "мой мозг с 8 руками"
- Главная боль: "руки забывают что мозг сказал" — LLM теряют инструкции, забывают скиллы, правила
- Хочет чип в мозг для прямого output мыслей
- Ключевая проблема для всех проектов: передача сигнала от мозга к рукам
- До меня делал несколько попыток построить агента
- Content factory: 3 итерации, проблема была в качестве кода
- Работает один, друг (начал первую версию) больше не участвует
- Идея dating app: автоматизация общения через Second Me, платформа для людей + личная автоматизация

## Урок: скиллы
- **Всегда сканировать скиллы перед ответом** — особенно для brainstorm/идей/исследований
- Пропустил creative-thought-partner для brainstorm — ошибка

## Протокол работы (обсуждение с Владом)
- Влад предложил: память → анализ → подход → работа (со стримом) → обновление памяти + learnings
- Разделить learnings: глобальные (ошибки агента) vs проектные (баги кода)
- Проблема: правила записаны но не выполняются — нужен жёсткий чеклист
- Обсуждаем структуру и как сделать чтобы реально работало
- Исследовал хуки Moltbot: agent:bootstrap, workspace файлы, BOOT.md
- Решение: PREFLIGHT.md (короткий чеклист) + memory/learnings/ (глобальные + проектные)
- Опционально: кастомный хук preflight-check
- ✅ Создал PREFLIGHT.md, memory/learnings/global.md, content-factory.md, ai-secretar.md
- Изучил proactive-agent скилл — ценное: memory flush по порогам, reverse prompting, self-healing
- Предложил интегрировать лучшее из proactive-agent в наши файлы
- Promitheus скилл — эмоциональная модель, решили не ставить сейчас (не приоритет)
- Философия "Доктор Осьминог" сохранена в MEMORY.md

## Brainstorm продолжение
- Целевая аудитория SaaS: подростки/люди кто хочет быстрых денег, готовы платить за "машину для печатания денег"
- Telegram Auto Channel (telegramm_auto_ch) — уже работает: мульти-агентный pipeline, сбор новостей, автопубликация
- Паттерн во всех проектах: Input → AI Pipeline → Output → Автопубликация
- НЕ объединять — разные продукты, но одна экосистема, продаются как модули
- Три слоя: Molt (связующее звено, личное) → Content Factory (SaaS видео) → Telegram Auto Channel (SaaS текст)
- Для личного использования Владу хватит меня — я запускаю pipelines напрямую
- ЦА: подростки и взрослые кто хочет пассивный доход. Влад сам = своя ЦА (17 лет)
- Концепция: "Automation-as-Income" — продаём не инструмент, а машину для денег
- ✅ Интегрировал: memory flush по порогам, reverse prompting, self-healing в PREFLIGHT.md и HEARTBEAT.md
- Влад спросил про promitheus (shellbymolt) на ClawdHub — эмоциональная модель, решили не ставить
- Установили с ClawdHub: competitive-intelligence-market-research, alpha-finder
- 4 скилла (jtbd, cross-pollination, reddit-insights, tcm-video-factory) не установились — удалены с хаба
- alpha-finder — про крипто, не по теме, удалили
- ✅ Установили: jtbd-analyzer, cross-pollination-engine, reddit-insights
- Вечерний чек-ин проведён, всё записано
- Напоминание на 10:00 31 января: план по модулям + ресёрч скиллов
- PREFLIGHT.md не инжектится — нет в списке bootstrap файлов Moltbot
- Нет механизма forced pre-reply в Moltbot. Лучший вариант — дублировать правила в SOUL.md + повторение + learnings
- ✅ Создал хук preflight-inject (~/.clawdbot/hooks/preflight-inject/) — инжектит PREFLIGHT.md в SOUL.md через agent:bootstrap
- Хук enabled и ready, рестарт сделан через config.patch, работает (5 инъекций подтверждены в логах)
- **Идея:** протокол /dev — я (Molt) как надзиратель читаю DEV_WORKFLOW и контролирую Claude Code по алгоритму
- Не Claude Code читает протокол — а я контролирую весь процесс: промпты, качество, мониторинг, learnings
- Реализация: PREFLIGHT триггерит чтение DEV_WORKFLOW.md → я включаю режим надзирателя
- DEV_WORKFLOW.md уже есть в notes/resources/ — 9 шагов, детальный алгоритм
- Добавил ссылку на DEV_WORKFLOW в PREFLIGHT.md

## Ночной compound review (22:30)

### Обзор дня — 13 сессий, основные блоки:

**Блок 1 (01:08–02:11): Онбординг + баг-хантинг**
- Начальная настройка: Влад описал себя, цели, стиль
- Установил proactive-agent скилл
- Баг tool_use_id mismatch: после terminated assistant API реджектит — synthetic repair ломает пары
- Влад 3 раза повторил "записывай в память, обращайся к логам" → критическое требование
- Решение: WAL протокол, SESSION-STATE, memory после каждого сообщения

**Блок 2 (12:42–13:48): Музыка + память + скиллы**
- yt-dlp установлен, скачал трек и отправил mp3 в Telegram — Владу зашло
- Анализ second-brain скилла: вердикт — не нужен (платный Ensue API), у нас своё есть
- Потерял контекст после компакции (не записал анализ скилла) — Влад заметил
- Влад жёстко установил правило: каждое сообщение = запись в memory
- Влад объяснил принцип: если сделал + он не возразил = подход рабочий, запомни

**Блок 3 (14:09–14:16): Транскрибация**
- Проблема с Groq Whisper: мусор вместо транскрипции
- Влад прислал скриншот проблемы

**Блок 4 (21:35–22:30): Brainstorm + архитектура агента**
- Влад заметил что я не использовал creative-thought-partner скилл → ошибка
- Глубокий brainstorm по content factory: философия Влада раскрыта (Доктор Осьминог, Джарвис)
- Протокол PREFLIGHT: чеклист перед каждым ответом
- Создал PREFLIGHT.md, learnings/global.md, learnings/content-factory.md
- Интегрировал proactive-agent паттерны (memory flush, self-healing)
- Влад спросил про promitheus — страница пустая, не удалось оценить

### Паттерны что работали:
1. **yt-dlp → mp3 → отправка файлом в Telegram** — быстро, Владу понравилось
2. **Анализ скиллов через clawdhub CLI + чтение SKILL.md** — давать вердикт с плюсами/минусами
3. **creative-thought-partner для brainstorm** — глубокие вопросы вскрыли философию Влада
4. **Чтение логов сессий для диагностики** — нашёл root cause tool_use_id бага

### Ошибки и gotchas:
1. **Компакция съедает контекст** — записывать СРАЗУ, не ждать
2. **Скиллы забываются** — без PREFLIGHT чеклист не срабатывает
3. **Claude Code: не дал разрешение** — submit "y" вместо перехвата контроля
4. **Молчание при работе** — стримить каждый этап

### Незавершённые задачи:
- Promitheus скилл — Влад хочет оценку, страница была пустая
- Транскрибация Groq Whisper — проблема с мусором не решена
- Content factory roadmap — обсудили, но код не начинали
- Tool_use_id баг — фикс начат в session-transcript-repair.ts, не проверен
